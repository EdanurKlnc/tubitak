<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="stylesheet" href="Css/kayit.css"> 
    <link rel="stylesheet" href="Css/style.css"> 

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@300&display=swap" rel="stylesheet">

    <script src="https://kit.fontawesome.com/c20485228a.js"
    crossorigin="anonymous" > </script> 

    <title>Kayıt Ol</title>
</head>
<body>
    <section id="menu">
        <div id="logo">Kayıt Ol</div>
        <nav> 
       <a href="anasayfa.html"><i class="fas fa-home"></i>Anasayfa</a> 
       <a href="hakkimizda.html"><i class="fas fa-info"></i>Hakkımızda</a> 
       <a href="iletisim.html"><i class="fas fa-phone-volume"></i>İletişim</a> 
       <a href="giris.html"><i class="fas fa-user"></i>Giriş Yap</a> 
       <a href="kayit.html"><i class="fas fa-user-plus"></i>Kayıt Ol</a>
    </nav>
    </section>

    <form action="" method="POST">
    
    <div class="box">
        <form>
            <span class="text-center">Kayıt</span>
        <div class="input-container" id="ad">
            <input type="text" required="name" autocomplete="off" pattern="[a-zA-Z<?=$trChars?>\s.]*" required autofocus oninvalid="alert('Kullanıcı Adını Girmeniz Zorunludur!')" name="kadi"/>
            <label>Ad</label>		
        </div>
        <div class="input-container" id="soyad"> 
            <input type="text" required="sname" autocomplete="off" required autofocus oninvalid="alert('Soyadınızı Girmeniz Zorunludur!')" name="ksoyadi"/>
            <label>Soyad</label>		
        </div>
        <div class="input-container-mail" id="mail">
            <input type="text" required="mail" autocomplete="off" required autofocus oninvalid="alert('E-mailinizi Girmeniz Zorunludur!')" name="email"/>
            <label>E-mail</label>		
        </div>
        <div class="input-container" id="sifre">
            <input type="password" required="password" autocomplete="off" required autofocus oninvalid="alert('Şifrenizi Girmeniz Zorunludur!')" name="ksifre"/>
            <label>Şifre</label>		
        </div>
        <div class="input-container" id="tel">		
            <input type="tel" pattern="\d{11}" required="tel" title="Başında '0' olarak tuşlayınız" name="ktel"/>
            <label>Telefon Numarası</label>

        </div>
            <button type="button" class="btn">KAYIT</button>
    </form>	
    </div>
    </form>
<!--
    <?php 
require_once "includes/pdo.php"
$mail_kontrol;
$kullanici_mail;
$kullanici_info;
$hashing_sifre;

if($_POST){
    
    $kullanici_adi = htmlentities(trim($_POST['kadi']));
    $kullanici_soyadi=htmlentities(trim($_POST['ksoyadi']));
    $kullanici_sifre=htmlentities(trim($_POST['ksifre']));
    $kullanici_email=htmlentities(trim($_POST['mail']));
    $kullanici_tel=htmlentities(trim($_POST['ktel']));



    $ktel_array=str_split($kullanici_tel);
    if(count($ktel_array)<11 ){   /////TELEFON NUMARASI 11 HANEDEN DÜŞÜK OLMAMALI///
        echo "<script type='text/javascript'>alert('Telefon numaranızı lütfen başında '0' olarak tuşlayınız.')</script>";            
    }
    else if(count($ktel_array)>1 ){

        echo "<script type='text/javascript'>alert('Telefon numaranız 11 haneli olmalıdır.')</script>";            
    }
    else if(count($ktel_array)==11 ){

        $kullanici_tel=$pdo->query("SELECT * FROM kayit WHERE kullanici_adi='$kullanici_adi' ")->fetch();
    }

    if(!empty($kullanici_adi) && !empty($kullanici_email)  && !empty($kullanici_sifre)){//
          if($kullanici_adi==$kullanici_sifre){
            echo "<script type='text/javascript'>alert('Kullanıcı Şifreniz Kullanıcı Girişi ile Aynı Olmamalıdır.');</script>";
    
          }
          else if($kullanici_adi==$kullanici_email){
            echo "<script type='text/javascript'>alert('Kullanıcı Adınız E-mailiniz  ile Aynı Olmamalıdır.');</script>";
          }
          else if($kullanici_adi!=$kullanici_sifre && $kullanici_adi!=$kullanici_email && $kullanici_sifre){

            $sifre_array=str_split($kullanici_sifre);
    
            if(count($sifre_array)<6 ){////////////////////---- ŞİFRE 6 HANEDEN AZ OLMAMALI GÜVENLİK AÇISINDAN-----/////////////////////////////////////////
                echo "<script type='text/javascript'>alert('Şifreniz en az 6 haneden oluşmalıdır.')</script>";            
            }
            else if($sifre_array>=6){
                //----- <<<<--------- MAİL KONTROL BAŞLANGIÇI OLACAK BUDA --------
                if (filter_var($kullanici_email, FILTER_VALIDATE_EMAIL)) {
                 //--- $kullanici_info=$pdo->query("SELECT * FROM kayit WHERE kullanici_adi='$kullanici_adi' AND kullanici_sifre='$kullanici_sifre'  ")->fetch();
                   // <------------BU ALAN PASSWORD HASHİNG VE VERİ TABANINA KAYDETME ALANIDIR---------------        
                                   
                    function encrypt_decrypt($action, $kullanici_sifre) {
                      $output = true;
                      $sifreleme_kodlari = 'AES-256-CTR'; 
                      $sifreleme_key = '25760'; 
                      $sifre_baslangici = '**109'; 
                      $key = hash('sha256', $sifreleme_key); 
                      $key_substr = substr(hash('sha256', $sifre_baslangici), 0, 16); 
                      if( $action == 'encrypt' ) {
                        $output = urlencode(serialize(base64_encode(gzcompress(openssl_encrypt($kullanici_sifre,$sifreleme_kodlari, $key, 0, $key_substr)))));
                      }	
                      return $output;
                    } 
                    $hashing_sifre = encrypt_decrypt('encrypt',$kullanici_sifre);

                    $kullanici_info=$pdo->query("SELECT * FROM kayit WHERE kullanici_adi='$kullanici_adi' ")->fetch();
                    $mail_kontrol=$pdo->query("SELECT * FROM kayit WHERE email='$kullanici_email' ")->fetch();
                    if($kullanici_email){  
                      echo"<script type='text/javascript'>alert('Girmiş Olduğunuz Kullanıcı Adı Zaten Kayıtlıdır!')</script>";    
                    }
                    else if($mail_kontrol==0){
                      try{
                      $sql=("INSERT INTO `kayit` (`kayit_id`, `kullanici_adi`,`kullanici_soyadi`, `kullanici_sifre`,  `email`,`ktel`) VALUES (NULL, '$kullanici_adi', '$hashing_sifre', '0', '$kullanici_email')");
                      $pdo->exec($sql);
                      echo "<script type='text/javascript'>alert('Başarıyla Kayıt Oldunuz,Giriş Sayfasına Yönlendiriliyorsunuz...')</script>";
                      header("Refresh: 0; url= giris.php");
                      }
                      catch(PDOException $e) {
                        echo"<script type='text/javascript'>alert('Kayit İşleminiZ Gerçekleşememiştir Lütfen Bilgilerinizi Tekrar Giriniz!')</script>";
                        }
                    }
                    else {
                      echo"<script type='text/javascript'>alert('Böyle Bir $kullanici_email  E-mail Adresi Zaten Kayıtlıdır!')</script>";
                    }

?>>
-->
</body>
</html>





